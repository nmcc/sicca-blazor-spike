@using Excubo.Blazor.TreeViews

<TreeView Items="Nested" GetChildren="(item) => item.Children" InitiallyCollapsed="true">
    <ItemTemplate>
        <Collapse @bind-Value="@context.Item.Collapsed" />
        @if (!string.IsNullOrEmpty(context.Item.PathToIcon))
        {
            <img src="@context.Item.PathToIcon" />
        }

        @if (string.IsNullOrEmpty(context.Item.NavigateTo))
        {
            @context.Item.Name
        }
        else
        {
            <a href="@(context.Item.NavigateTo)">@context.Item.Name</a>
        }
    </ItemTemplate>
</TreeView>


@code {
    private static readonly List<Item> AllItems = new List<Item>
{
        new Item
        {
            Name = "Linha de Sintra",
            Children = new List<Item>
            {
                new Item
                {
                    Name = "Campolide",
                    NavigateTo = "/monitoring/station/1",
                    PathToIcon = "/img/st/estacao_24.png",
                    Children = new List<Item>
                    {
                        new Item() { Name = "CAEgn01", NavigateTo = "/monitoring/accesschannel/1", PathToIcon = "/img/ac/operacional_24.png" },
                        new Item() { Name = "CAEgn02", NavigateTo = "/monitoring/accesschannel/2", PathToIcon = "/img/ac/operacional_24.png" },
                        new Item() { Name = "CAEgn03", NavigateTo = "/monitoring/accesschannel/3", PathToIcon = "/img/ac/operacional_24.png" },
                    },
                },
                new Item
                {
                    Name = "Monte Abraão",
                    NavigateTo = "/monitoring/station/2",
                    PathToIcon = "/img/st/estacao_24.png",
                    Children = new List<Item>
                    {
                    },
                },
            }
        },
        new Item
        {
            Name = "Linha de Cascais"
        }
    };
    private class Item
    {
        public string Name { get; set; } = string.Empty;
        public List<Item>? Children { get; set; }
        public bool Collapsed { get; set; } = true;
        public string? NavigateTo { get; set; }
        public string? PathToIcon { get; set; }
    }
    private List<Item> Nested = AllItems.ToList();
}